!--------------------------------------------------
!- Castle Dungeon - Program 1
!- Save on DISK as CD1.PRG -- together with CD2.PRG
!--------------------------------------------------
1 PRINTCHR$(147):POKE52,29:POKE56,29:CLR
2 SV=36873:S1=SV+1:S2=SV+2:S3=SV+3:V=SV+5:SB=SV+6
3 READL,N:IFN=-1THEN5
4 FORJ=0TON:READS:POKEL+J,S:NEXT:GOTO3
5 POKESB,110:FORT=1TO500:NEXT
6 FORM=1TO3:READA,B,C,D,E
7 POKES1,A:POKES2,B:POKES3,C:FORJ=15TOESTEP-1:POKEV,J:FORT=1TOD:NEXT:NEXT:NEXT
10 FORT=1TO2000:NEXT
11 PRINTCHR$(147):FORT=1TO500:NEXT
12 POKESB,59:POKESV-4,242
13 FORT=1TO500:NEXT
14 PRINTCHR$(144)"{up}{right}Find and defuse the"
15 PRINT:PRINT" bombs hiddenin the"
16 PRINT:PRINT" dungeon. Don't fall"
17 PRINT:PRINT" into a pit or get"
18 PRINT"{down}{right}eaten by a beast."
19 PRINT"{down}{right}Press the 'L' key for"
20 PRINT"{right}a levitation spell."
21 PRINT:PRINT"{right}You have 5 minutes"
22 PRINT"{down}{right}to complete your":PRINT"{down}{right}quest."
23 POKE143,VAL(MID$(TI$,5,2))
24 READCL:IFCL=-1THEN26
25 FORJ=CLTOCL+7:READCC:POKEJ,CC:NEXT:GOTO24
26 PRINT:PRINT"(Hit any key to begin)"
27 GETA$:IFA$=""THEN27
28 PRINT"{clear}":FORJ=1TO3:POKESV+J,0:NEXT:S$="lO"+CHR$(34)+"cd2"+CHR$(34)+",8:"+CHR$(131)
29 FORI=1TOLEN(S$):POKE630+I,ASC(MID$(S$,I,1)):NEXT:POKE198,I:END
30 DATA7878,20,114,64,73,73,32,110,85,73,110,85,64,73,112,64,75,85,64,73,85,73,110
31 DATA7900,20,93,32,93,93,32,93,93,93,93,93,64,73,107,64,32,93,32,93,93,93,93
32 DATA7922,20,113,64,75,74,64,115,125,74,75,74,64,75,109,64,73,74,64,75,125,74,75
33 DATA7792,17,85,64,73,112,64,110,85,64,75,64,114,64,112,32,32,112,64,75
34 DATA7814,16,93,32,32,107,64,115,74,64,73,32,93,32,93,32,32,107,64
35 DATA7836,17,74,64,75,75,32,125,85,64,75,32,75,32,74,64,75,109,64,73
40 DATA-1,-1
41 DATA0,0,219,36,5,0,236,231,36,5,237,231,226,100,0
44 DATA7632,247,227,246,193,215,247,235,235,7640,255,34,34,34,255,68,68,68
45 DATA7648,255,231,195,129,129,131,199,255,7656,255,191,95,64,90,186,255,255
46 DATA7664,191,121,112,1,0,135,55,115,7672,255,239,247,231,195,195,231,255
47 DATA7424,255,255,255,255,255,255,255,255,7440,255,255,255,129,129,255,255,255,7432
48 DATA255,255,255,255,255,255,255,255,7448,255,253,251,247,143,207,175,255
49 DATA7456,191,121,112,1,0,135,55,115,7464,255,255,231,0,0,231,255,255,-1
